{% extends 'base.html' %}

{% block body %}
<div class="col-12">
    <div class="mrow">
        <div class="col-12">
            <div class="row">
                .col-
            </div>
        </div>
    </div>
    {% for filter in filters %}
    <span class="badge badge-secondary">
        <form id="form-filter-{{forloop.counter}}" method="get">
            <select onchange="$('#form-filter-' + {{forloop.counter}}).submit()" name="{{filter.field_name}}" class="form-control">
                {% for choice in filter.choices %}
                <option value="{{choice.0}}">{{choice.1}}</option>
                {% endfor %}
            </select>
        </form>
    </span>
    {% endfor %}
    {% if mobile %}
        <div class="mrow">
            {% for gymnast in object_list %}
            <div class="col-12 p-2">
                <div class="mrow">
                    <div class="col-12 bg-light p-2 rounded shadow">
                        <div class="mrow text-center">
                            <div class="col-8">{{gymnast.get_competition_name}}</div>
                            <div class="col-4">
                                <span class="badge badge-info">{{gymnast.score|floatformat}}</span>
                            </div>
                            <hr style="width:95%;border-top: 1px solid #ccc;">
                            <div class="col-4">{{gymnast.get_level_display}}</div>
                            <div class="col-4" onclick="toggleElement('gymnast-result-{{gymnast.pk}}')">
                                <span class="badge badge-dark">&#11015;</span>
                            </div>
                            <div class="col-4">{{gymnast.city}}</div>
                            <div class="col-12" id="gymnast-result-{{gymnast.pk}}" style="display:none;">
                                <div class="mrow">
                                    <div class="col-4">
                                        <span class="badge badge-info">
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="50px" height="50px" viewBox="0 0 376.000000 376.000000" preserveAspectRatio="xMidYMid meet">
                                            <g transform="translate(0.000000,376.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
                                            <path d="M1600 3409 c-229 -22 -450 -95 -655 -217 -232 -137 -469 -397 -590 -647 -99 -204 -144 -385 -152 -620 -8 -242 20 -420 97 -622 29 -76 55 -121 43 -73 -7 26 32 70 62 70 22 0 95 -62 95 -80 0 -18 -16 -10 -45 20 -33 35 -70 39 -85 10 -22 -40 27 -83 70 -60 16 9 20 8 20 -5 0 -8 -12 -20 -26 -25 -27 -11 -43 -4 -73 30 -24 27 -3 -25 42 -103 216 -379 599 -656 1032 -749 116 -24 378 -35 506 -19 454 53 872 317 1124 709 83 130 165 321 179 418 3 22 15 68 25 102 32 99 46 298 32 439 -45 450 -238 813 -581 1090 -312 253 -713 371 -1120 332z m1088 -1579 l2 -930 -935 0 -935 0 0 331 0 330 -55 51 c-56 51 -76 90 -34 68 17 -10 24 -7 44 14 13 14 27 26 30 26 13 0 3 -28 -15 -45 -11 -10 -20 -23 -20 -29 0 -11 35 -46 45 -46 3 0 5 43 5 95 0 88 -1 95 -17 87 -64 -33 -114 72 -57 117 29 23 64 28 64 10 0 -6 -7 -8 -16 -5 -18 7 -64 -35 -64 -59 0 -24 39 -57 63 -53 18 2 23 11 25 41 3 35 1 38 -20 35 -26 -3 -33 -38 -9 -46 10 -3 12 0 8 12 -4 9 -2 16 3 16 13 0 13 -27 1 -34 -20 -13 -42 7 -39 33 2 20 9 27 31 29 l27 3 0 440 0 439 553 2 c303 2 723 2 932 1 l380 -2 3 -931z"/>
                                            <path d="M974 2607 c-9 -25 1 -732 10 -712 12 24 38 45 48 39 5 -3 8 132 8 300 l0 306 710 0 710 0 2 -367 c2 -203 2 -522 0 -710 l-3 -343 -709 0 -710 0 0 344 c0 370 1 358 -51 386 -17 10 -19 7 -19 -28 0 -28 7 -45 25 -62 28 -26 23 -50 -6 -24 -19 17 -19 10 -19 -334 l0 -352 785 0 785 0 -2 783 -3 782 -778 2 c-601 2 -779 -1 -783 -10z"/>
                                            </g>
                                        </svg>
                                            <p style="font-size:15px;">
                                                {{ gymnast.results.fxm.result|floatformat }}
                                            </p>

                                        </span>
                                    </div>
                                    <div class="col-4">
                                        <span class="badge badge-info">
                                            <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="50px" height="50px" viewBox="0 0 376.000000 376.000000" preserveAspectRatio="xMidYMid meet">
                                                <g transform="translate(0.000000,376.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
                                                <path d="M1638 3525 c-769 -110 -1337 -762 -1338 -1536 -1 -757 520 -1384 1278 -1536 134 -27 443 -24 578 5 152 33 246 66 390 137 371 183 656 513 784 905 59 179 73 277 74 485 0 204 -15 303 -70 474 -159 488 -532 856 -1029 1014 -44 14 -120 33 -170 42 -124 23 -375 28 -497 10z m-3 -835 c14 -15 19 -40 21 -98 1 -42 3 -85 3 -94 1 -17 17 -18 196 -18 l195 0 0 95 c0 82 3 98 20 115 25 25 71 26 101 1 24 -19 27 -36 29 -179 l0 -33 248 3 c159 2 254 7 263 14 26 20 126 37 182 31 103 -13 158 -37 217 -97 119 -120 149 -273 80 -416 -22 -44 -76 -101 -86 -91 -4 4 7 44 25 90 37 99 40 163 11 241 -28 73 -97 138 -171 160 -49 14 -149 28 -149 21 0 -2 10 -20 23 -41 20 -35 27 -39 67 -42 64 -4 122 -51 160 -128 32 -67 36 -101 19 -170 -15 -60 -84 -135 -157 -171 -73 -36 -181 -38 -253 -6 -46 21 -117 82 -136 116 -9 17 -14 17 -72 4 -34 -8 -64 -17 -68 -20 -3 -4 14 -55 37 -114 96 -245 248 -639 253 -658 11 -37 -22 -62 -95 -69 -102 -11 -115 -1 -161 126 -20 56 -88 238 -150 403 l-114 300 -314 3 -315 2 -51 -137 c-205 -548 -253 -669 -275 -686 -19 -16 -34 -18 -93 -13 -38 3 -73 6 -76 6 -4 0 -12 13 -18 29 -11 26 -3 54 104 332 64 167 132 342 151 388 38 96 39 98 22 98 -12 0 -321 62 -420 84 l-48 11 0 128 c0 89 4 138 15 162 16 40 74 95 108 103 12 3 139 7 282 8 l260 2 5 98 c4 83 8 101 24 113 29 21 80 18 101 -6z"/>
                                                <path d="M2871 2213 c0 -37 3 -62 6 -55 12 31 63 -6 63 -46 0 -12 -15 -39 -33 -58 -28 -31 -39 -36 -76 -36 -23 1 -54 8 -68 17 -18 12 -36 15 -62 10 -74 -13 -75 -14 -34 -47 54 -44 94 -58 161 -58 47 0 67 5 106 30 56 36 76 76 76 156 0 80 -34 123 -117 148 -22 7 -23 5 -22 -61z"/>
                                                </g>
                                            </svg>
                                            <p style="font-size:15px;">
                                            {{ gymnast.results.ph.result|floatformat }}
                                            </p>
                                        </span>
                                    </div>
                                    <div class="col-4">
                                        <span class="badge badge-info">
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="50px" height="50px" viewBox="0 0 376.000000 376.000000" preserveAspectRatio="xMidYMid meet">
                                            <g transform="translate(0.000000,376.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
                                            <path d="M1575 3314 c-183 -28 -443 -103 -429 -125 3 -5 -2 -6 -10 -3 -18 7 -216 -103 -305 -169 -187 -137 -388 -386 -483 -597 -68 -150 -122 -346 -133 -485 -12 -159 -13 -192 -4 -295 21 -232 91 -459 195 -638 22 -38 27 -41 40 -27 9 8 20 13 25 10 5 -4 9 -2 9 2 0 16 119 36 174 29 92 -10 155 -37 210 -87 84 -77 137 -213 121 -313 -8 -46 -44 -138 -58 -147 -23 -16 191 -126 336 -174 404 -134 827 -102 1205 91 438 223 743 640 827 1129 20 118 23 374 5 480 -18 106 -59 260 -95 351 -160 406 -528 756 -938 892 -179 60 -263 73 -472 77 -104 2 -203 1 -220 -1z m-163 -671 c17 -15 18 -41 18 -419 l0 -403 60 -27 c86 -38 161 -121 190 -210 46 -136 9 -277 -95 -373 -179 -163 -451 -111 -562 108 -25 50 -28 66 -28 151 0 82 4 102 26 150 36 73 100 137 177 173 l62 29 0 401 c0 459 -4 437 83 437 33 0 57 -6 69 -17z m880 0 c17 -15 18 -41 18 -420 0 -375 1 -404 18 -410 88 -29 166 -89 206 -157 85 -145 63 -318 -54 -436 -83 -82 -186 -116 -303 -100 -202 29 -343 235 -293 429 30 119 108 212 210 250 l51 19 3 407 c1 281 6 412 13 422 17 19 108 17 131 -4z"/>
                                            <path d="M1230 1635 c-101 -71 -114 -222 -27 -306 108 -104 281 -61 332 81 29 80 -7 183 -78 225 -46 27 -189 27 -227 0z"/>
                                            <path d="M2120 1639 c-92 -56 -117 -191 -54 -282 88 -127 281 -111 345 28 38 82 14 187 -56 240 -33 26 -44 28 -122 29 -63 1 -93 -3 -113 -15z"/>
                                            <path d="M565 921 c-61 -11 -87 -28 -75 -49 29 -50 33 -52 81 -36 100 35 205 -12 256 -116 30 -59 38 -134 22 -179 -8 -21 -6 -28 13 -42 23 -18 23 -18 40 34 38 115 12 233 -70 309 -66 62 -177 95 -267 79z"/>
                                            <path d="M590 751 c0 -5 39 -48 88 -95 l87 -86 3 50 c3 58 -20 100 -68 125 -32 16 -110 20 -110 6z"/>
                                            </g>
                                        </svg>
                                            <p style="font-size:15px;">
                                        {{ gymnast.results.rings.result|floatformat }}
                                            </p>
                                        </span>
                                    </div>
                                    <div class="col-4">
                                        <span class="badge badge-info">
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="50px" height="50px" viewBox="0 0 376.000000 376.000000" preserveAspectRatio="xMidYMid meet">
                                            <g transform="translate(0.000000,376.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
                                            <path d="M1664 3400 c-346 -62 -624 -213 -869 -472 -388 -410 -519 -997 -345 -1538 37 -115 112 -274 172 -367 55 -85 200 -253 270 -314 60 -51 185 -144 238 -176 360 -217 824 -276 1235 -158 101 29 262 97 315 132 19 13 38 23 42 23 14 0 172 117 241 178 172 152 320 361 409 576 35 85 82 261 99 368 16 104 6 427 -16 528 -121 553 -509 989 -1037 1164 -227 76 -523 98 -754 56z m1219 -851 c70 -32 74 -149 6 -184 -23 -13 -100 -15 -464 -15 l-435 0 0 -205 0 -205 65 0 65 0 0 -85 c0 -69 3 -85 15 -85 22 0 20 0 76 -16 102 -31 171 -92 221 -200 61 -130 42 -265 -51 -366 -13 -16 -28 -28 -33 -28 -11 0 0 46 24 95 11 23 22 72 25 115 5 68 3 82 -21 133 -42 88 -149 167 -227 167 -10 0 -20 8 -22 18 -3 9 -5 -8 -6 -38 -1 -54 0 -55 28 -56 42 -1 115 -51 145 -98 72 -111 54 -230 -48 -323 -26 -23 -64 -48 -86 -54 l-40 -12 0 -104 0 -103 -205 0 -205 0 0 520 0 520 60 0 60 0 0 205 0 205 -102 0 -103 0 -140 -133 c-319 -300 -338 -317 -372 -323 -27 -5 -42 -1 -72 21 -22 14 -45 39 -51 55 -24 57 -8 80 172 256 191 185 272 255 326 283 99 50 259 60 877 56 370 -3 497 -7 518 -16z"/>
                                            <path d="M2120 1462 c0 -52 2 -58 22 -59 47 -4 53 -69 8 -106 -25 -22 -30 -33 -30 -72 l0 -47 43 25 c54 32 75 61 85 117 17 94 -17 157 -101 189 l-27 11 0 -58z"/>
                                            </g>
                                        </svg>
                                            <p style="font-size:15px;">
                                        {{ gymnast.results.vtm.result|floatformat }}
                                            </p>
                                        </span>
                                    </div>
                                    <div class="col-4">
                                        <span class="badge badge-info">
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="50px" height="50px" viewBox="0 0 376.000000 376.000000" preserveAspectRatio="xMidYMid meet">
                                            <g transform="translate(0.000000,376.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
                                            <path d="M1658 3300 c-209 -39 -428 -129 -613 -252 -100 -66 -302 -267 -377 -373 -327 -468 -381 -1076 -139 -1570 115 -234 246 -398 441 -554 152 -122 343 -223 490 -261 25 -7 52 -15 60 -20 9 -4 34 -11 57 -14 40 -7 40 -7 35 19 -3 17 0 30 9 36 24 15 28 10 22 -24 -4 -30 -2 -35 23 -45 16 -6 50 -13 76 -17 87 -11 345 -6 440 9 608 98 1103 551 1258 1150 107 417 33 873 -202 1233 -127 194 -318 377 -519 495 -159 94 -351 163 -539 193 -133 21 -396 19 -522 -5z m1424 -1067 c26 -23 25 -96 -2 -123 -18 -18 -33 -20 -190 -20 l-170 0 0 -45 0 -45 46 0 c70 0 84 -12 84 -72 0 -69 -18 -88 -82 -88 l-49 0 2 -321 c1 -293 0 -322 -17 -340 -24 -26 -94 -27 -111 0 -9 14 -13 109 -14 340 l-1 321 -49 0 -49 0 0 -333 0 -334 28 4 c20 3 38 -5 70 -32 23 -20 39 -41 36 -46 -3 -6 -23 6 -45 26 -43 39 -41 38 -63 29 -26 -10 -19 -35 20 -75 20 -20 31 -39 26 -43 -6 -3 -24 10 -41 29 l-31 36 0 -50 c0 -30 5 -52 13 -55 10 -5 10 -7 0 -12 -7 -3 -13 -14 -13 -24 0 -45 -100 -69 -134 -31 -15 17 -17 58 -16 465 l0 446 -405 0 -405 0 0 -320 c0 -363 1 -360 -74 -360 -78 0 -76 -9 -76 357 l0 323 -50 0 -50 0 0 -448 c0 -415 -1 -450 -17 -465 -26 -23 -90 -20 -114 6 -18 20 -19 39 -19 464 l0 443 -162 0 c-190 0 -198 3 -198 81 0 81 -9 79 321 79 l289 0 0 45 0 45 -163 0 c-191 0 -197 2 -204 77 -9 90 -100 83 1051 83 925 0 1011 -1 1028 -17z"/>
                                            <path d="M1520 2045 l0 -45 528 2 527 3 3 43 3 42 -530 0 -531 0 0 -45z"/>
                                            </g>
                                        </svg>
                                            <p style="font-size:15px;">
                                        {{ gymnast.results.pb.result|floatformat }}
                                            </p>
                                        </span>
                                    </div>
                                    <div class="col-4">
                                        <span class="badge badge-info">
                                        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="50px" height="50px" viewBox="0 0 376.000000 376.000000" preserveAspectRatio="xMidYMid meet">
                                        <g transform="translate(0.000000,376.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
                                        <path d="M1695 3524 c-327 -50 -626 -205 -868 -448 -275 -277 -428 -632 -443 -1031 -15 -386 104 -745 346 -1040 378 -460 979 -666 1555 -533 519 120 943 501 1119 1007 64 183 80 289 80 511 0 214 -16 318 -74 492 -154 461 -536 837 -1000 986 -212 68 -494 90 -715 56z m1185 -554 c0 -5 -4 -10 -10 -10 -5 0 -10 5 -10 10 0 6 5 10 10 10 6 0 10 -4 10 -10z m-210 -186 l5 -32 78 0 c46 0 84 -5 92 -12 13 -11 15 -125 15 -823 0 -916 6 -847 -78 -847 -89 0 -82 -65 -82 772 l0 738 -82 0 c-56 0 -78 -3 -68 -10 10 -6 12 -12 4 -20 -7 -7 -16 -5 -29 10 -12 13 -31 20 -57 20 -21 0 -38 -3 -38 -7 0 -4 16 -24 36 -44 20 -20 31 -39 26 -43 -6 -3 -30 16 -55 44 -37 41 -51 50 -79 50 -22 0 -37 -6 -45 -19 -19 -30 -60 -32 -93 -5 l-28 24 -501 0 -501 0 0 -737 c0 -671 -1 -738 -17 -755 -21 -23 -89 -24 -115 -1 -17 15 -18 54 -18 828 0 704 2 814 15 825 11 9 188 12 770 11 627 -1 755 1 755 12 0 23 41 58 63 55 16 -2 23 -12 27 -34z m-278 -291 c47 -47 57 -63 38 -63 -12 0 -100 89 -100 101 0 18 15 8 62 -38z m-92 -21 c0 -5 -11 -19 -25 -32 -35 -33 -33 -39 18 -79 14 -11 20 -11 32 -1 17 14 20 50 5 50 -5 0 -10 5 -10 10 0 21 31 9 41 -16 12 -34 -11 -74 -44 -74 -27 0 -127 85 -127 107 0 12 3 13 15 3 11 -9 19 -8 39 7 14 10 26 21 26 26 0 10 30 9 30 -1z m-120 -131 c-9 -18 -7 -27 14 -52 29 -34 33 -70 11 -89 -22 -18 -31 -4 -15 25 12 22 11 27 -13 51 -29 29 -33 53 -16 86 7 13 14 17 21 10 7 -7 6 -17 -2 -31z m-62 -141 c24 -22 41 -44 37 -50 -4 -7 -24 5 -51 30 -37 34 -48 39 -60 30 -21 -19 -17 -33 21 -70 19 -19 35 -38 35 -42 0 -16 -20 -7 -51 23 -33 32 -74 37 -74 7 0 -9 15 -32 33 -52 35 -39 38 -46 20 -46 -19 0 -78 72 -77 95 0 24 18 49 42 58 9 3 17 12 17 18 0 15 31 38 50 38 8 0 35 -17 58 -39z m-174 -176 c34 -34 45 -54 28 -54 -4 0 -20 14 -35 30 -43 45 -91 37 -85 -15 4 -37 31 -54 58 -37 26 16 46 6 29 -14 -20 -24 -75 -17 -98 12 -27 34 -27 68 1 94 32 29 61 25 102 -16z m-164 -136 c0 -46 -22 -49 -30 -3 -4 25 -6 26 -18 12 -10 -12 -11 -24 -5 -44 13 -38 50 -42 87 -8 28 26 46 32 46 16 0 -12 -25 -37 -56 -58 -34 -22 -82 -1 -100 44 -13 30 -13 36 3 58 35 48 73 39 73 -17z m-136 -86 c-4 -21 1 -34 25 -60 29 -30 39 -52 25 -52 -13 0 -84 86 -84 100 0 17 19 40 32 40 4 0 5 -12 2 -28z m-22 -125 c14 -27 2 -62 -28 -82 -22 -14 -30 -15 -55 -4 -40 16 -62 59 -49 93 5 14 13 26 18 26 16 0 21 -13 12 -30 -22 -42 29 -90 65 -60 27 22 16 50 -39 108 -30 30 -52 60 -49 65 6 10 107 -85 125 -116z m-242 -207 c0 -5 -4 -10 -10 -10 -5 0 -10 5 -10 10 0 6 5 10 10 10 6 0 10 -4 10 -10z m750 -760 c0 -5 -4 -10 -10 -10 -5 0 -10 5 -10 10 0 6 5 10 10 10 6 0 10 -4 10 -10z"/>
                                        <path d="M2615 2780 c-7 -12 2 -30 16 -30 5 0 9 9 9 20 0 21 -15 27 -25 10z"/>
                                        <path d="M2236 2563 c10 -7 25 -13 35 -13 9 0 22 6 28 13 9 11 2 14 -35 14 -41 0 -45 -2 -28 -14z"/>
                                        </g>
                                        </svg>
                                            <p style="font-size:15px;">
                                        {{ gymnast.results.hb.result|floatformat }}
                                            </p>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
    <table class="table table-info table-bordered text-center shadow">
        <thead>
        <tr>
            <th>Имя</th>
            <th>Розряд</th>
            <th>Город</th>
            <th>Год</th>
            {% if competition_sex == 1 %}
                <th>ВУ</th>
                <th>Конь</th>
                <th>Кольца</th>
                <th>ОП</th>
                <th>ПП</th>
                <th>ВП</th>
            {% else %}
                <th>ВУ</th>
                <th>Бревно</th>
                <th>РБ</th>
                <th>ОП</th>
            {% endif %}
                <th>Всего</th>
        </tr>
        </thead>
        <tbody>
        {% for gymnast in result %}
        <tr>
            <td>{{ gymnast.get_competition_name }}</td>
            <td>{{ gymnast.get_level_display }}</td>
            <td>{{ gymnast.city }}</td>
            <td>{{ gymnast.user.ext.birthday_date|date:'Y' }}</td>
            <td>{{ gymnast.results.fxm.result|floatformat }}</td>
            <td>{{ gymnast.results.ph.result|floatformat }}</td>
            <td>{{ gymnast.results.rings.result|floatformat }}</td>
            <td>{{ gymnast.results.vtm.result|floatformat }}</td>
            <td>{{ gymnast.results.pb.result|floatformat }}</td>
            <td>{{ gymnast.results.hb.result|floatformat }}</td>
            <td>{{ gymnast.score|floatformat}}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    {% endif %}
    <div class="mrow text-center my-2">
        {% if page_obj.has_previous %}
        <div class="col-4 bg-light rounded link" data-url="
        {% if '?' in request.get_full_path %}
        {{request.get_full_path}}&page={{page_obj.previous_page_number}}
        {% else %}
        {{request.get_full_path}}?page={{page_obj.previous_page_number}}
        {% endif %}
        " style="font-size: 48px;">
            &laquo;
        </div>
        {% else %}
        <div class="col-4 bg-secondary rounded" style="font-size: 48px;">&laquo;</div>
        {% endif %}
        <div class="col-4 text-light pt-4" style="font-size:20px;">{{ page_obj.number }} из {{ page_obj.paginator.num_pages }}</div>
        {% if page_obj.has_next %}
        <div class="col-4 bg-light rounded link" style="font-size: 48px;" data-url="
        {% if '?' in request.get_full_path %}
        {{request.get_full_path}}&page={{page_obj.next_page_number}}
        {% else %}
        {{request.get_full_path}}?page={{page_obj.next_page_number}}
        {% endif %}
        ">
           &raquo;
        </div>
        {% else %}
        <div class="col-4 bg-secondary rounded" style="font-size: 48px;">&raquo;</div>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block scripts %}
{{block.super}}
<script type="text/javascript">

</script>
{% endblock %}